{"ast":null,"code":"var _jsxFileName = \"/Users/thomaslefebvre/git/projet-jeudemot/src/components/view/WordFormB.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport JResults from './JResults';\nimport { Form, Label, Input, Button, FormGroup } from 'reactstrap';\nconst initialState = {\n  //value: '',\n  valueError: '',\n  answer: ''\n};\nexport default class WordFormB extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onTextChanged = event => {\n      const value = event.target.value;\n      let suggestions = [];\n\n      if (value.length > 0) {\n        const regex = new RegExp(`^${value}`, 'i');\n        suggestions = this.items.sort().filter(v => regex.test(v));\n      }\n\n      this.setState(() => ({\n        suggestions\n      }));\n    };\n\n    this.onAddItem = () => {\n      this.setState(state => {\n        const history = state.history.concat(state.value);\n        return {\n          history,\n          value: ''\n        };\n      });\n    };\n\n    this.validate = () => {\n      let valueError = '';\n\n      if (!this.state.value.match('^(\\w*)')) {\n        valueError = 'Invalid input, please put only one word without special characters';\n      }\n\n      if (valueError) {\n        this.setState({\n          valueError\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.handleRandomize = event => {\n      event.preventDefault();\n      axios.get('http://localhost:5000/randomize').then(response => {\n        const value = response.data;\n        console.log('---');\n        console.log(response.data); //this.setState({ value });\n\n        this.setState({\n          value: response.data\n        }); //self.setState({ value: response.data });\n        //Perform action based on response\n      }).catch(error => {\n        console.log(error);\n        console.log('dommage'); //Perform action based on error\n      });\n    };\n\n    this.updateInput = word => {\n      let value = word;\n      console.log(value);\n      this.setState({\n        value: \"third\"\n      });\n    };\n\n    this.state = {\n      value: '',\n      valueError: '',\n      answer: '',\n      history: [],\n      suggestions: []\n    };\n    this.items = ['Test', 'Test 2', 'Test 3'];\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  renderSuggestions() {\n    const suggestions = this.state.suggestions;\n\n    if (suggestions.length === 0) {\n      return null;\n    }\n\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, suggestions.map(item => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, item)));\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  handleSubmit(event) {\n    // testing purpose only\n    //alert('A name was submitted: ' + this.state.value);\n    event.preventDefault();\n    const isValid = this.validate();\n\n    if (isValid) {\n      console.log(this.state); // clear form\n\n      this.setState(initialState);\n    } //this.setState({history : this.state.value});\n    //this.onAddItem();\n    //console.log(this.state);\n\n\n    var self = this;\n    axios.post('http://localhost:5000/sendform', this.state.value, {\n      headers: {\n        'Content-Type': 'text/plain'\n      }\n    }).then(function (response) {\n      console.log('---');\n      console.log(response);\n      self.setState({\n        answer: response.data\n      });\n      console.log('---'); //Perform action based on response\n    }).catch(function (error) {\n      console.log(error); //Perform action based on error\n    });\n  } //@TODO Input random word into form field\n\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Donner un mot:\"), React.createElement(Input, {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.onTextChanged,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), this.renderSuggestions(), React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.valueError)), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"button\",\n      onClick: this.handleRandomize,\n      value: \"Randomize\",\n      color: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-random\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), \"Randomize\"), React.createElement(Button, {\n      type: \"submit\",\n      value: \"Submit\",\n      color: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Submit\"))), React.createElement(JResults, {\n      word: this.state.value,\n      definition: this.state.answer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/thomaslefebvre/git/projet-jeudemot/src/components/view/WordFormB.jsx"],"names":["React","axios","JResults","Form","Label","Input","Button","FormGroup","initialState","valueError","answer","WordFormB","Component","constructor","props","onTextChanged","event","value","target","suggestions","length","regex","RegExp","items","sort","filter","v","test","setState","onAddItem","state","history","concat","validate","match","handleRandomize","preventDefault","get","then","response","data","console","log","catch","error","updateInput","word","handleChange","bind","handleSubmit","renderSuggestions","map","item","isValid","self","post","headers","render","color"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport JResults from './JResults';\nimport { Form, Label, Input, Button, FormGroup } from 'reactstrap';\n\nconst initialState = {\n    //value: '',\n    valueError: '',\n    answer: ''\n};\n\nexport default class WordFormB extends React.Component {\n    constructor(props) {\n    super(props);\n    this.state = {\n        value: '',\n        valueError: '', \n        answer: '',\n        history: [],\n        suggestions: []\n    };\n\n    this.items = [\n        'Test',\n        'Test 2',\n        'Test 3'\n    ]\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    onTextChanged = (event) => {\n        const value = event.target.value;\n        let suggestions = [];\n        if(value.length > 0) {\n                const regex = new RegExp(`^${value}`, 'i');\n                suggestions = this.items.sort().filter(v => regex.test(v));\n        }\n        this.setState(() => ({ suggestions }));\n    }\n\n    renderSuggestions() {\n        const { suggestions } = this.state;\n        if(suggestions.length === 0) {\n            return null;\n        }\n        return (\n            <ul>\n                {suggestions.map((item) => <li>{item}</li>)}\n            </ul>\n        );\n    }\n\n    onAddItem = () => {\n        this.setState(state => {\n            const history = state.history.concat(state.value);\n        return {\n            history,\n            value: '',\n        };\n        });\n    };\n\n\n    handleChange(event) {\n        this.setState({value: event.target.value});\n        console.log(event.target.value);\n    }\n\n    validate = () => {\n        let valueError = '';\n\n        if(!this.state.value.match('^(\\w*)')) {\n            valueError = 'Invalid input, please put only one word without special characters'\n        }\n\n        if(valueError) {\n            this.setState({valueError});\n            return false;\n        }\n\n        return true;\n    };\n\n    handleSubmit(event) {\n        // testing purpose only\n        //alert('A name was submitted: ' + this.state.value);\n        event.preventDefault();\n        const isValid = this.validate();\n\n        if(isValid) {\n            console.log(this.state)\n            // clear form\n            this.setState(initialState);\n        }\n\n        //this.setState({history : this.state.value});\n        //this.onAddItem();\n        //console.log(this.state);\n\n        var self = this;\n        axios.post('http://localhost:5000/sendform', this.state.value, {headers: { 'Content-Type': 'text/plain' }})\n        .then(function(response){\n            console.log('---')\n            console.log(response);\n\n            self.setState({ answer: response.data });\n            console.log('---')\n            //Perform action based on response\n        })\n        .catch(function(error){\n            console.log(error);\n            //Perform action based on error\n        });\n    }\n\n    //@TODO Input random word into form field\n    handleRandomize = (event) => {\n        event.preventDefault();\n        axios.get('http://localhost:5000/randomize')\n        .then((response) => {\n            const value = response.data;\n            console.log('---')\n            console.log(response.data);\n\n            //this.setState({ value });\n            this.setState({value: response.data});\n            \n            //self.setState({ value: response.data });\n            //Perform action based on response\n        })\n        .catch((error) => {\n            console.log(error);\n            console.log('dommage');\n            //Perform action based on error\n        });\n    }\n\n    updateInput = (word) => {\n        let value = word;\n        console.log(value);\n        this.setState({value : \"third\"});\n    }\n\nrender() {\n    return (\n    <>\n        <Form onSubmit={this.handleSubmit}>\n        <FormGroup>\n            <Label>Donner un mot:</Label>\n            <Input type=\"text\" value={this.state.value} onChange={this.onTextChanged} required />\n            {this.renderSuggestions()}\n            <div style={{color: \"red\"}}>\n                {this.state.valueError}\n            </div>\n        </FormGroup>\n        <FormGroup>\n            <Button type=\"button\" onClick={this.handleRandomize} value=\"Randomize\" color=\"info\"><i className=\"fas fa-random\"></i>Randomize</Button>\n            <Button type=\"submit\" value=\"Submit\" color=\"dark\">Submit</Button>\n        </FormGroup>\n        </Form>\n        <JResults word={this.state.value} definition={this.state.answer} />\n    </>\n    );\n    }\n}"]},"metadata":{},"sourceType":"module"}